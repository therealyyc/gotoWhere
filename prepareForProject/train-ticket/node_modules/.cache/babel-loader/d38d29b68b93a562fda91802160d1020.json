{"ast":null,"code":"import _slicedToArray from \"C:\\\\learning\\\\\\u524D\\u7AEF\\u5B66\\u4E60\\\\react\\\\code\\\\goToWhere\\\\train-ticket\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\learning\\\\\\u524D\\u7AEF\\u5B66\\u4E60\\\\react\\\\code\\\\goToWhere\\\\train-ticket\\\\src\\\\App.js\";\nimport React, { Component, PureComponent, createContext, lazy, Suspense, Fragment, memo, useState, useEffect } from 'react';\nconst About = lazy(() => import('./About'));\nconst BatteryContext = createContext(55);\nconst OnBool = createContext();\n\nclass Leaf extends Component {\n  render() {\n    const bool = this.context;\n    console.log('...', bool);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, \"lllll-----\", String(bool)));\n  }\n\n}\n\nLeaf.contextType = OnBool;\n\nclass Middle extends Component {\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"middle\", React.createElement(Leaf, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst A = memo(function A(props) {\n  console.log('....A');\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, props.A);\n}); // class A extends PureComponent{\n//   render() {\n//     console.log('...A');\n//     return (\n//       <div>\n//         {this.props.A}\n//       </div>\n//     )\n//   }\n// }\n\nclass B extends PureComponent {\n  render() {\n    console.log('...B');\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, this.props.B);\n  }\n\n}\n\nfunction UseEffectExample() {\n  const _useState = useState({\n    width: document.documentElement.clientWidth,\n    height: document.documentElement.clientHeight\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        size = _useState2[0],\n        setSize = _useState2[1];\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"\\u9762\\u79EF \", size.width * size.height, \" \"));\n}\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      value: 59,\n      aaa: false,\n      c: 1,\n      d: 2\n    };\n  }\n\n  render() {\n    let _this$state = this.state,\n        value = _this$state.value,\n        aaa = _this$state.aaa,\n        c = _this$state.c,\n        d = _this$state.d;\n    console.log('parent', c, d);\n    return (\n      /**\n       * suspense的使用\n       */\n      // <div>\n      //   <Suspense fallback={<div>loading</div>}>\n      //     <About></About>\n      //   </Suspense>\n      // </div>\n\n      /**\n       * memo的使用\n       * \n       */\n      React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => {\n          this.setState({\n            c: c++\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(A, {\n        A: c,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), React.createElement(B, {\n        B: d,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      })) // <div>\n      //  <BatteryContext.Provider value={this.state.value}>\n      //   <OnBool.Provider value = {aaa}>\n      //     <button onClick={() => { this.setState({ value: value - 1 }) }}> -1</button>\n      //     <button onClick={() => { this.setState({ aaa: !aaa }) }}> switch</button>\n      //     <Middle></Middle>\n      //     </OnBool.Provider>\n      //  </BatteryContext.Provider>\n      // </div>\n\n    );\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/learning/前端学习/react/code/goToWhere/train-ticket/src/App.js"],"names":["React","Component","PureComponent","createContext","lazy","Suspense","Fragment","memo","useState","useEffect","About","BatteryContext","OnBool","Leaf","render","bool","context","console","log","String","contextType","Middle","A","props","B","UseEffectExample","width","document","documentElement","clientWidth","height","clientHeight","size","setSize","App","state","value","aaa","c","d","setState"],"mappings":"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","sourcesContent":["import React, { Component,PureComponent, createContext, lazy, Suspense,Fragment, memo, useState, useEffect } from 'react';\n\nconst About = lazy(() => import ('./About'))\n\nconst BatteryContext = createContext(55)\nconst OnBool = createContext()\n\nclass Leaf extends Component{\n  static contextType = OnBool\n  render() {\n    const bool = this.context\n    console.log('...',bool)\n    return (\n      <div>\n        {/* <OnBoolContext.Consumer>\n                {a => <h1>B: ---- S:{String(a)}</h1>}\n        </OnBoolContext.Consumer> */}\n        \n        {/* <BatteryContext.Consumer>\n         \n          {\n            battery => (\n              <OnBool.Consumer>\n                {a => <h1>B:{battery} ---- S:{String(a)}</h1>}\n              </OnBool.Consumer>\n            )\n            }\n          \n        </BatteryContext.Consumer> */}\n        <div>\n          lllll-----{String(bool)}\n        </div>\n      </div>\n    )\n  }\n}\n\n\nclass Middle extends Component{\n  render() {\n    return (\n      <div>middle\n        <Leaf></Leaf>\n      </div>\n    )\n  }\n}\n\n\nconst A = memo( function A(props) {\n  console.log('....A');\n  return(<div>\n    {props.A}\n  </div>)\n})\n// class A extends PureComponent{\n//   render() {\n//     console.log('...A');\n//     return (\n//       <div>\n//         {this.props.A}\n//       </div>\n//     )\n//   }\n// }\n\nclass B extends PureComponent{\n  render() {\n    console.log('...B');\n    return (\n      <div>\n        {this.props.B}\n      </div>\n    )\n  }\n}\n\nfunction UseEffectExample() {\n  const [size, setSize] = useState({\n    width: document.documentElement.clientWidth,\n    height:document.documentElement.clientHeight\n  })\n  \n  return (\n    <div>\n      <span>面积 {size.width * size.height} </span>\n    </div>\n  )\n}\n\nclass App extends Component{\n  state = {\n    value: 59,\n    aaa: false,\n    c: 1,\n    d: 2\n  }\n  render() {\n    let { value, aaa, c, d } = this.state\n    console.log('parent',c,d);\n    return (\n      /**\n       * suspense的使用\n       */\n      // <div>\n      //   <Suspense fallback={<div>loading</div>}>\n      //     <About></About>\n      //   </Suspense>\n      // </div>\n      /**\n       * memo的使用\n       * \n       */\n      <Fragment>\n        <button onClick={()=>{this.setState({c:c++})}} ></button>\n        <A A={c}></A>\n        <B B={d}></B>\n      </Fragment>\n      \n\n      // <div>\n      //  <BatteryContext.Provider value={this.state.value}>\n      //   <OnBool.Provider value = {aaa}>\n      //     <button onClick={() => { this.setState({ value: value - 1 }) }}> -1</button>\n      //     <button onClick={() => { this.setState({ aaa: !aaa }) }}> switch</button>\n      //     <Middle></Middle>\n      //     </OnBool.Provider>\n        \n      //  </BatteryContext.Provider>\n      // </div>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}